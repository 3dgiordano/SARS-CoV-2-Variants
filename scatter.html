<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>COVID-19 Risk by @3dgiordano</title>
  <meta name="generator" content="Jekyll v3.9.0" />
  <meta property="og:title" content="COVID-19-Risk" />
  <meta name="author" content="David Giordano" />
  <meta property="og:locale" content="en_US" />
  <meta name="description" content="COVID-19 Risk by @3dgiordano" />
  <meta property="og:description" content="COVID-19 Risk by @3dgiordano" />
  <link rel="canonical" href="https://3dgiordano.github.io/COVID-19-Risk/" />
  <meta property="og:url" content="https://3dgiordano.github.io/COVID-19-Risk/" />
  <meta property="og:site_name" content="COVID-19 Risk by @3dgiordano" />
  <meta name="twitter:card" content="summary" />
  <meta property="twitter:title" content="COVID-19 Risk by @3dgiordano" />
  <meta property="og:image" content="/web/favicon.png">
  <link rel="shortcut icon" type="image/x-icon" href="./web/favicon.ico">
  <link rel="shortcut icon" type="image/png" href="./web/favicon.png">
  <link rel="apple-touch-icon" sizes="170x170" href="./web/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./web/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./web/favicon-16x16.png">
  <link rel='stylesheet' href='web/general.css'>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-QBJJX8MJH3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-QBJJX8MJH3');
  </script>
  <script type="application/ld+json">
{"headline":"COVID-19 Risk by @3dgiordano","description":"COVID-19 Risk by @3dgiordano","url":"https://3dgiordano.github.io/COVID-19-Risk/","@type":"WebSite","name":"COVID-19 Risk by @3dgiordano","author":{"@type":"Person","name":"David Giordano"},"@context":"https://schema.org"}
</script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.27.3/apexcharts.min.js'></script>
  <script src='https://gmousse.github.io/dataframe-js/dist/dataframe.min.js'></script>

  <script id="rendered-js" crossorigin="anonymous">
    var doc_width = 1024;
    var chart_width = 640;
    var chart_list = [];

    function windowSizeUpdate() {
      doc_width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
      chart_width = parseInt((doc_width / 2) - 70);
      if (doc_width <= 1024) {
        chart_width = parseInt(doc_width - 100);
      }
      
      chart_list.forEach(chart => {
        ApexCharts.exec(chart, 'updateOptions', {
          chart: {
            width: chart_width + "px"
          }
        });
      });
    
    }

    //window.addEventListener('resize', windowSizeUpdate);
    //windowSizeUpdate();


    function start() {

      dfjs.DataFrame.fromJSON("https://raw.githubusercontent.com/3dgiordano/SARS-CoV-2-Variants/main/data/update.json").then(df => {
        var update_date_str = df.select("last_update_utc").toArray().join('') + "Z";
        var date_str = new Date(update_date_str).toString();
        document.getElementById("last_update").innerText = date_str;
      });

    }

    function onLoadHandler() {
        setTimeout(function(){
          document.getElementById("loading").style.visibility = "hidden";
          document.getElementById("datawrapper-chart-ttvtv").style.visibility = "visible";
        }, 3000);
    }

  </script>

<div class="info">
  <h1>COVID-19 Risk</h1>
  <div class="info">
    This site tries to give a glimpse about a possible wave of cases.<br />
    <br />
    <b>Last update: </b><span id="last_update"></span><br>
    <br /><br />
    <table class="actions"><tr><td><a class="button" href="./map">World Map</a></td><td><a class="button" href="trend">Trends</a></td><td><a class="button" href="heat">Heat Map</a></td><td><a class="button_active" href="scatter">Scatter</a></td><td><a class="button" href="cases">Cases</a></td><td><a class="button" href="about_r">About</a></td></tr></table><table></table><br>
    <br />
    <span id="loading">Loading...</span>
  </div>
</div>

<table id="content" class="content" width="90%" align="center">
	<tr>
		<td align=center>
			<iframe title="Risk over estimated period cases" aria-label="chart" id="datawrapper-chart-ttvtv" src="https://datawrapper.dwcdn.net/ttvtv/" scrolling="no" frameborder="0" style="visibility: hidden;width: 0; min-width: 100% !important; border: none;" height="400" onload="onLoadHandler();"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();</script>
		</td>
	</tr>
</table>
  <script>
    start();
  </script>
  </body>

</html>